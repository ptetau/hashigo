<html>
	<head>
		<title>Hashigo Zake test</title>
		<script type="text/javascript" src="jquery-1.4.2.js"></script>
		<script type="text/javascript" src="underscore.js"></script>
		<script type="text/javascript" src="jquery.hashigo.js"></script>
		<script type="text/javascript">
			$(function(){
				$('#h').calc('Math.sqrt(Math.pow(${#a}[0],2) + Math.pow(${#o}[0],2));');

				$('#email').calc('(${#firstname}[0] + ${#lastname}[0]).length > 0 ? ${#firstname}[0] + "." + ${#lastname}[0].replace(" ","") +"@zake.com" : ""');
				
				$('#emailReq').calc(function(firstname,lastname){
					return	(firstname + lastname).length > 0 ? "" : "Please enter first AND last names";
				},
					[$('#firstname'),$('#lastname')],{triggerOnLoad:false}
				);
				
				$('#result').calc(function(tds){
					return _(tds).reduce(0,function(memo, value){
						return memo + parseFloat(value);
					});
				},[$('td')]);
			});
		</script>
	</head>
	<body>
		<h1>Table sum</h1>
		<table>
			<tr>
				<td>12</td>
			</tr>
			<tr>
				<td>15</td>
			</tr>
			<tr>
				<td>16</td>
			</tr>
		</table>
				
		<span id="result"></span>
		
		<h1>Hypotenuse calulator</h1>
		adjacent = <input type="text" id="a" />
		<br/>
		opposite = <input type="text" id="o" />
		<br/>
		hypotenuse = sqrt(a^2 + o^2) = <input type="text" id="h" />
		<br/>
		
		<h1>Email generator</h1>
		Firstname: <input type="text" id="firstname" />
		Lastname: <input type="text" id="lastname" />
		<br/>
		Email: <span id="email"></span> <span id="emailReq" style="color:red"></span>
	</body>
</html>
