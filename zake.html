<html>
	<head>
		<title>Hashigo Zake test</title>
		<script type="text/javascript" src="jquery-1.4.2.js"></script>
		<script type="text/javascript" src="underscore.js"></script>
		<script type="text/javascript" src="jquery.hashigo.js"></script>
		<script type="text/javascript">
			$(function(){
			
				$('.result').calc('_(${td}).reduce(0,function(memo, value){return memo + parseFloat(value);});',
					{bindFn: function($elements, fn){$elements.live('keyup', fn)}
				});
				
				$('#h').calc('Math.sqrt(Math.pow(${#a},2) + Math.pow(${#o},2));');

				$('#email').calc('(${#firstname} + ${#lastname}).length > 0 ? ${#firstname} + "." + ${#lastname}.replace(" ","") +"@zake.com" : ""');
				
				$('#emailReq').calc(function(firstname,lastname){
					return	(firstname + lastname).length > 0 ? "" : "Please enter first AND last names";
				},
					['#firstname','#lastname'],{triggerOnLoad:false}
				);
			});
		</script>
	</head>
	<body>
		<h1>Table sum</h1>
		<table>
			<tr>
				<td>12</td>
			</tr>
			<tr>
				<td>15</td>
			</tr>
			<tr>
				<td>16</td>
			</tr>
		</table>
				
		<span class="result"></span> 
		
		<h1>Hypotenuse calulator</h1>
		adjacent = <input type="text" id="a" />
		<br/>
		opposite = <input type="text" id="o" />
		<br/>
		hypotenuse = sqrt(a^2 + o^2) = <input type="text" id="h" />
		<br/>
		
		<h1>Email generator</h1>
		Firstname: <input type="text" id="firstname" />
		Lastname: <input type="text" id="lastname" />
		<br/>
		Email: <span id="email"></span> <span id="emailReq" style="color:red"></span>
		
		<h1>Radios</h1>
		<label><input type="radio" value=".5" name="multiplier">Half</input></label>
		<label><input type="radio" value="2" name="multiplier">Double</input></label>
		<br/>
		<span id="selectedRadioTimes10"></span>
		
		<h1>Selects</h1>
		<select name="aOrB">
			<option value="a">a</option>
			<option value="b">b</option>
		</select>
		<br/>
		<span id="selectedOption"></span>
		
		<h1>Checks</h1>
		<label><input type="checkbox" class="beer" name="stonecutter" value="7">Renaissance Stonecutter</input></label>
		<label><input type="checkbox" class="beer" name="twisted" value="8">Twisted Hop</input></label>
		<br/>
		<span id="beerCost"></span>
		
		<script type="text/javascript">
			$(function(){
				$('#selectedRadioTimes10').calc("10 * ${input[name='multiplier']:checked}[0]",{
					bindFn : function($elements,fn){
						$elements.live('click',fn);	
					}
				});
				
				$('#selectedOption').calc("'Selected: ' + ${[name=aOrB] option:selected};",{
					bindFn : function($elements,fn){
						$elements.live('click',fn);	
					}
				});
				
				$('#beerCost').calc("'Beer bill: $' + _(${.beer:checked}).reduce(0, function(memo,num){return memo + num;});",{
					bindFn : function($elements,fn){
						$elements.live('click',fn);	
					}
				});
			});
		</script>		

	</body>
</html>
